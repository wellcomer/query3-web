<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>СЦ Заявка 3.0</title>
</head>
<body>

    <h3>Программа по обработке заявок для сервисных центров.</h3>

    <p>Данная программа закрывает базовые потребности небольших сервисных центров по обработке клиентских заявок. Она предусматривает
        создание, редактирование и поиск заявок, а также печать квитанций. Имеет простой, интуитивно понятный интерфейс.
        Для печати используются шаблоны, которые можно самостоятельно отредактировать под свои нужды. Все необходимые для работы
        компоненты (Java, Tomcat, LibreOffice) распространяются бесплатно и доступны для свободной установки. Поддерживаются ОС:
        Windows, Linux.
    </p>

    <h4>Системные требования:</h4>
    <ul>
        <li>Java 8 и выше
        <li>Cервер приложений Tomcat 7 и выше.
        <li>LibreOffice (на машине для печати квитанций).
    </ul>
    <h4>Руководство по установке для Windows:</h4>
    <ul>
        <li>Скачайте и установите <a href="https://www.java.com/ru/download/">Java</a>
        <li>Скачайте и установите Tomcat Windows Service Installer <a href="http://tomcat.apache.org/download-70.cgi">tomcat.apache.org</a>
        <li>Скачайте и установите <a href="https://ru.libreoffice.org/">LibreOffice</a>
    </ul>
    <h4>Руководство по установке для Linux:</h4>
    <ul>
        <li>Установите Java, Tomcat и LibreOffice штатным пакетным менеджером (apt-get, yum и т.п)
    </ul>
    <h4>Общая часть:</h4>
    Запустите сервис Tomcat.
    <!--<p>
    Укажите переменную окружения <b>CATALINA_HOME</b>, которая будет указывать на каталог в который установлен Tomcat.
    Установите переменные <b>JRE_HOME</b> или <b>JAVA_HOME</b>.
    JRE_HOME используется чтобы установить путь к JRE, JAVA_HOME чтобы установить путь
    к JDK. Если обе переменные установлены, используется JRE_HOME.
    </p>-->
    <p>
    Поместите архив query3-web.war в каталог webapps сервера приложений Tomcat, по умолчанию (C:\Program Files\Apache Software Foundation\Tomcat 7.0\webapps),
        (/var/lib/tomcat7/webapps/ для Linux),
    после этого, web-интерфейс будет доступен по адресу <a href="http://localhost:8080/query3-web/">http://localhost:8080/query3-web/</a>
    </p>

    <h4>Настройка LibreOffice</h4>

    <p>Для корректного формирования квитанций необходимо произвести дополнительную настройку офисного
    пакета. Запустить LibreOffice Calc, зайти в меню "Сервис" - "Параметры" - "LibreOffice Calc" - "Формула", выбрать
    пункт "Пересчитывать всегда" в разделе "Электронная таблица ODF (сохраненная не в LibreOffice).</p>

    <h4>Назначения каталогов:</h4>

    <ul>
        <li>.db - база данных программы.
        <li>.autocomplete - файлы автодополнения полей формы.
        <li>css - стили
        <li>doc - документация
        <li>img - изображения
        <li>js - javascript
        <li>template - шаблоны .ods и карты шаблонов. В карте шаблонов описано в какую ячейку шаблона подставляется переменная.
    </ul>

    <h4>Настройки web.xml</h4>

    <ul>
        <li>characterEncoding - имя системной кодировки.
        <li>dbPath - путь к базе с заявками.
        <li>dbName - имя БД заявок.
        <li>stgBackendName - тип хранилища (file или mapdb)
    </ul>
    <p>Данные параметры установлены в значение "default", изменять
        их без крайней необходимости не рекомендуется.
    </p>
    <p>Хранилище <b>file</b> представляет собой файловое хранилище, в котором каждая заявка находится в отдельном файле
        с расширением .req и номером последовательности num.seq, рекомендуется для объемов хранения &lt; 10000 заявок.
        Хранилище <b>mapdb</b> (default) представляет собой высокопроизводительную базу данных key-value (MapDB), все заявки и время
        их модификации хранятся в одном файле, рекомендуется для объемов &gt; 10000 заявок.
    </p>

    <h5>Autocomplete</h5>

    <ul>
        <li>disabled - отключение функции автокомплита
        <li>autocompletePath - путь к файлам автокомплита
        <li>autoLearn - автоматическое обучение (чтение всех полей в заявках и формирование файлов автокомплита)
        <li>scanModifiedOnly - обрабатывать только измененные с последнего запуска заявки
        <li>mergePrevious - слияние полей новых заявок с существующими файлами автокомплита
        <li>maxItems - максимальное количество выдаваемых результатов в поле автокомплита
    </ul>

    <h5>Template</h5>

    <ul>
        <li>templatePath - путь к ods шаблонам
        <li>saveToPath - путь для сохранения квитанций (по умолчанию временный каталог)
    </ul>

    <h4>Обновление query3-web</h4>

    Перейдите в каталог webapps/query3-web сервера приложений, скопируйте каталоги .db, .autocomplete, template в другое место, если
    вы делали изменения в файле WEB-INF/web.xml, то его скопируйте тоже. Удалите пакет query3-web.war, при этом каталог query3-web должен удалиться,
    запишите новую версию файла query3-web.war, будет создан новый каталог query3-web, скопируйте туда нужные каталоги и файлы. Перезапустите
    Tomcat. Текущую версию можно посмотреть по ссылке: <a href="http://localhost:8080/query3-web/version">http://localhost:8080/query3-web/version</a>

    <h4>Руководство пользователя:</h4>

    <p>Интерфейс программы разбит на три части: Правка, Просмотр, Поиск</p>

    <h5>Режим <b>Правка</b></h5>
    <ul>
        <li>Сохранить - сохранение заявки
        <li>Отмена - переход в режим <b>Просмотр</b>
        <li>Новая - создание новой заявки
        <li>Копировать в новую - копирование полей уже существующей заявки в новую (быстрое создание похожих заявок).
    </ul>
    <h5>Режим Просмотр</h5>
    <ul>
        <li>Пред. - Просмотр предыдущей заявки
        <li>След. - просмотр следующей заявки
        <li>Правка - переход в режим <b>Правка</b>
    </ul>
    Для перехода к определенному номеру заявки, введите номер в поле "Просмотр заявки №",
    для перехода к последней заявке введите в это поле значение 0, нажимая на клавиатуре
    стрелки "вверх" или "вниз" можно увеличивать или уменьшать номер.

    <h5>Режим Поиск</h5>
    <p>Заполните необходимые поля и нажмите кнопку "Поиск". Если найдены совпадения, вы автоматически перейдете
    в режим <b>Просмотр</b> найденных заявок. Чтобы выйти из режима нажмите "Сброс поиска".</p>

</body>
</html>